---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml"
  xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9
                      http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">

  {%- comment -%}
  Helpers
  - Make absolute URL: site.url + site.baseurl + path
  - lastmod: prefer page.last_modified_at > page.lastmod > page.date
  NOTE: _config.yml 에서 반드시 site.url 을 설정하세요 (예: https://willing1026.github.io)
  {%- endcomment -%}

  {%- assign _siteurl = site.url | default: "" -%}
  {%- assign _baseurl = site.baseurl | default: "" -%}

  {%- capture root_url -%}{{ _siteurl }}{{ _baseurl }}/{%- endcapture -%}
  {%- capture privacy_url -%}{{ _siteurl }}{{ _baseurl }}/privacy.html{%- endcapture -%}
  {%- capture gen_url -%}{{ _siteurl }}{{ _baseurl }}/korean-name-generator/{%- endcapture -%}
  {%- capture gen_en -%}{{ gen_url }}?lang=en{%- endcapture -%}
  {%- capture gen_ko -%}{{ gen_url }}?lang=ko{%- endcapture -%}

  <!-- 0) Root (x-default + hreflang) -->
  <url>
    <loc>{{ root_url }}</loc>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ root_url }}"/>
    <xhtml:link rel="alternate" hreflang="en" href="{{ root_url }}?lang=en"/>
    <xhtml:link rel="alternate" hreflang="ko" href="{{ root_url }}?lang=ko"/>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
  </url>

  <!-- 1) Generator page (EN/KO 별도 URL + hreflang 교차) -->
  <url>
    <loc>{{ gen_en }}</loc>
    <changefreq>weekly</changefreq>
    <priority>0.9</priority>
    <xhtml:link rel="alternate" hreflang="en" href="{{ gen_en }}"/>
    <xhtml:link rel="alternate" hreflang="ko" href="{{ gen_ko }}"/>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ gen_en }}"/>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
  </url>
  <url>
    <loc>{{ gen_ko }}</loc>
    <changefreq>weekly</changefreq>
    <priority>0.9</priority>
    <xhtml:link rel="alternate" hreflang="en" href="{{ gen_en }}"/>
    <xhtml:link rel="alternate" hreflang="ko" href="{{ gen_ko }}"/>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ gen_en }}"/>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
  </url>

  <!-- 2) Privacy -->
  <url>
    <loc>{{ privacy_url }}</loc>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
  </url>

  <!-- 3) Posts (블로그 글) -->
  {%- for post in site.posts -%}
    {%- assign abs = _siteurl | append: _baseurl | append: post.url -%}
    <url>
      <loc>{{ abs }}</loc>

      {%- if post.last_modified_at -%}
        <lastmod>{{ post.last_modified_at | date_to_xmlschema }}</lastmod>
      {%- elsif post.lastmod -%}
        <lastmod>{{ post.lastmod | date_to_xmlschema }}</lastmod>
      {%- else -%}
        <lastmod>{{ post.date | date_to_xmlschema }}</lastmod>
      {%- endif -%}

      <changefreq>{{ post.sitemap.changefreq | default: 'weekly' }}</changefreq>
      <priority>{{ post.sitemap.priority | default: 0.6 }}</priority>
    </url>
  {%- endfor -%}

  <!-- 4) Pages (정적 페이지: 404, asset, feed 등은 제외) -->
  {%- for page in site.pages -%}
    {%- if page.sitemap != false
          and page.url
          and page.url != '/sitemap.xml'
          and page.url != '/robots.txt'
          and page.url != '/feed.xml'
          and page.url contains '/assets' == false
          and page.url contains '/node_modules' == false -%}
      {%- assign pabs = _siteurl | append: _baseurl | append: page.url -%}
      <url>
        <loc>{{ pabs }}</loc>
        {%- if page.last_modified_at -%}
          <lastmod>{{ page.last_modified_at | date_to_xmlschema }}</lastmod>
        {%- elsif page.lastmod -%}
          <lastmod>{{ page.lastmod | date_to_xmlschema }}</lastmod>
        {%- else -%}
          <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
        {%- endif -%}
        <changefreq>{{ page.sitemap.changefreq | default: 'monthly' }}</changefreq>
        <priority>{{ page.sitemap.priority | default: 0.5 }}</priority>
      </url>
    {%- endif -%}
  {%- endfor -%}

</urlset>
