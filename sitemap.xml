---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset
  xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9
                      http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">

  {%- comment -%}
  REQUIREMENTS
  - _config.yml 에 url: https://willing1026.github.io (trailing slash 없이) 설정
  - absolute_url 필터 사용으로 baseurl 처리 자동
  - drafts/hidden 페이지 제외
  - lastmod: last_modified_at > lastmod > date
  {%- endcomment -%}

  {%- assign now_xml = site.time | date_to_xmlschema -%}

  <!-- 0) Root (x-default + hreflang) -->
  {%- assign root_en = '/?lang=en' | absolute_url -%}
  {%- assign root_ko = '/?lang=ko' | absolute_url -%}
  <url>
    <loc>{{ '/' | absolute_url | xml_escape }}</loc>
    <lastmod>{{ now_xml }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ root_en | xml_escape }}"/>
    <xhtml:link rel="alternate" hreflang="en" href="{{ root_en | xml_escape }}"/>
    <xhtml:link rel="alternate" hreflang="ko" href="{{ root_ko | xml_escape }}"/>
  </url>

  <!-- 1) Generator page (EN/KO 교차) -->
  {%- assign gen_base = '/korean-name-generator/' | absolute_url -%}
  {%- assign gen_en = gen_base | append: '?lang=en' -%}
  {%- assign gen_ko = gen_base | append: '?lang=ko' -%}
  <url>
    <loc>{{ gen_en | xml_escape }}</loc>
    <lastmod>{{ now_xml }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.9</priority>
    <xhtml:link rel="alternate" hreflang="en" href="{{ gen_en | xml_escape }}"/>
    <xhtml:link rel="alternate" hreflang="ko" href="{{ gen_ko | xml_escape }}"/>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ gen_en | xml_escape }}"/>
  </url>
  <url>
    <loc>{{ gen_ko | xml_escape }}</loc>
    <lastmod>{{ now_xml }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.9</priority>
    <xhtml:link rel="alternate" hreflang="en" href="{{ gen_en | xml_escape }}"/>
    <xhtml:link rel="alternate" hreflang="ko" href="{{ gen_ko | xml_escape }}"/>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ gen_en | xml_escape }}"/>
  </url>

  <!-- 2) Privacy -->
  <url>
    <loc>{{ '/privacy.html' | absolute_url | xml_escape }}</loc>
    <lastmod>{{ now_xml }}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- 3) Posts (드래프트/미공개 제외) -->
  {%- for post in site.posts -%}
    {%- if post.draft != true and post.sitemap != false -%}
      <url>
        <loc>{{ post.url | absolute_url | xml_escape }}</loc>
        {%- if post.last_modified_at -%}
          <lastmod>{{ post.last_modified_at | date_to_xmlschema }}</lastmod>
        {%- elsif post.lastmod -%}
          <lastmod>{{ post.lastmod | date_to_xmlschema }}</lastmod>
        {%- else -%}
          <lastmod>{{ post.date | date_to_xmlschema }}</lastmod>
        {%- endif -%}
        <changefreq>{{ post.sitemap.changefreq | default: 'weekly' }}</changefreq>
        <priority>{{ post.sitemap.priority | default: 0.6 }}</priority>
      </url>
    {%- endif -%}
  {%- endfor -%}

  <!-- 4) Pages (정적 페이지: feed/에셋/자체 제외 목록) -->
  {%- for page in site.pages -%}
    {%- assign path = page.path | downcase -%}
    {%- if page.sitemap != false
          and page.url
          and page.url != '/sitemap.xml'
          and page.url != '/robots.txt'
          and page.url != '/feed.xml'
          and path contains '/assets/' == false
          and path contains '/node_modules/' == false
          and path contains '/vendor/' == false -%}
      <url>
        <loc>{{ page.url | absolute_url | xml_escape }}</loc>
        {%- if page.last_modified_at -%}
          <lastmod>{{ page.last_modified_at | date_to_xmlschema }}</lastmod>
        {%- elsif page.lastmod -%}
          <lastmod>{{ page.lastmod | date_to_xmlschema }}</lastmod>
        {%- else -%}
          <lastmod>{{ now_xml }}</lastmod>
        {%- endif -%}
        <changefreq>{{ page.sitemap.changefreq | default: 'monthly' }}</changefreq>
        <priority>{{ page.sitemap.priority | default: 0.5 }}</priority>
      </url>
    {%- endif -%}
  {%- endfor -%}

</urlset>
